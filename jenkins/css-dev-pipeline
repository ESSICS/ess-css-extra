#!/usr/local/Cellar/groovy/2.4.11/bin/groovy
pipeline {

  /*
   * Agent sets up which environment that the pipeline will execute inside.
   * Can be specified to label of certain slave set up a docker container
   */
  agent any

  /*
   * Environment sets up a map containing key : value pairs
   */
  environment {
    buildPath = 'ESS-CS-Studio'
    sourceRepo = 'https://github.com/ESSICS'
    branch = 'master'
    email = 'claudio.rosati@esss.se'
  }
  options {
    disableConcurrentBuilds() //Disallow concurrent executions of the Pipeline
    timeout(time:4, unit: 'HOURS') //Set a timeout period for the Pipeline run, after which Jenkins should abort the Pipeline
    timestamps()
  }
  stages {
    stage ('Build All') {
      steps {
        
      }
    }
    stage ('Download Repos and Compile') {
      steps {

      }
    }stage ('Clean Up') {
      steps {

      }
    }

  }
  post {
    unstable {
      to(subject: "pipeline failed" , body: "something failed in this run" , to: $email)
    }
  }

}
