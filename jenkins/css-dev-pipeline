pipeline {
/*
 * Environment sets up a map containing key : value pairs
 * The variables will be exported to the shell jenkins uses to execute in
 *
 */
environment {
  sourceRepo = 'https://github.com/ControlSystemStudio'
  mvnXML = 'settings-for-jenkins-ce.xml'
  branch = 'master'
  MAVEN_OPTS="-Xmx2048m -Xms1024M -Xss128M -XX:-UseGCOverheadLimit"
  email = 'claudio.rosati@esss.se'
  MVNOPT="-B -P ess-css-settings,platform-default,csstudio-composite-repo-enable,eclipse-sites"
}
/*
 * Agent sets up which environment that the pipeline will execute inside.
 * Can be specified to label of certain slave or spin up a docker container
 */
agent {
  label 'css'
}

options {
  disableConcurrentBuilds() //Disallow concurrent executions of the Pipeline
  timeout(time:4, unit: 'HOURS') //Set a timeout period for the Pipeline run, after which Jenkins should abort the Pipeline
  timestamps()

}

stages {
  stage('clone css-extra 00100'){
     steps {
      when {validateDeclarativePipeline "jenkins/css-ce-pipeline"}
      script "jenkins/css-ce-pipeline
     }
   }



}
